-- --------------------------------------------------------
-- Host:                         127.0.0.1
-- Versione server:              10.3.14-MariaDB - mariadb.org binary distribution
-- S.O. server:                  Win64
-- HeidiSQL Versione:            10.2.0.5599
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


-- Dump della struttura del database turni_infermieri
CREATE DATABASE IF NOT EXISTS `turni_infermieri` /*!40100 DEFAULT CHARACTER SET utf8 COLLATE utf8_bin */;
USE `turni_infermieri`;

-- Dump della struttura di tabella turni_infermieri.ferie
CREATE TABLE IF NOT EXISTS `ferie` (
  `id_ferie` int(11) NOT NULL AUTO_INCREMENT,
  `id_infermiere` int(11) NOT NULL,
  `data` date DEFAULT NULL,
  PRIMARY KEY (`id_ferie`),
  UNIQUE KEY `id_infermiere_data` (`id_infermiere`,`data`),
  KEY `FK_ferie_infermiere` (`id_infermiere`),
  CONSTRAINT `FK_ferie_infermiere` FOREIGN KEY (`id_infermiere`) REFERENCES `infermiere` (`id_infermiere`)
) ENGINE=InnoDB AUTO_INCREMENT=353 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='vengono riportate tutte le preferenze di giorni di ferie di tutti gli infermieri';

-- Dump dei dati della tabella turni_infermieri.ferie: ~352 rows (circa)
DELETE FROM `ferie`;
/*!40000 ALTER TABLE `ferie` DISABLE KEYS */;
INSERT INTO `ferie` (`id_ferie`, `id_infermiere`, `data`) VALUES
	(17, 1, '2019-09-16'),
	(18, 1, '2019-09-17'),
	(20, 1, '2019-09-18'),
	(19, 1, '2019-09-19'),
	(12, 1, '2019-09-20'),
	(14, 1, '2019-09-21'),
	(13, 1, '2019-09-22'),
	(15, 1, '2019-12-23'),
	(11, 1, '2019-12-24'),
	(16, 1, '2019-12-25'),
	(10, 1, '2019-12-26'),
	(21, 1, '2020-03-09'),
	(22, 1, '2020-03-10'),
	(23, 1, '2020-03-11'),
	(24, 1, '2020-05-02'),
	(25, 1, '2020-05-03'),
	(26, 1, '2020-05-04'),
	(1, 1, '2020-06-01'),
	(27, 1, '2020-06-02'),
	(2, 1, '2020-06-03'),
	(3, 1, '2020-06-04'),
	(4, 1, '2020-06-05'),
	(5, 1, '2020-06-06'),
	(9, 1, '2020-06-07'),
	(6, 1, '2020-06-08'),
	(7, 1, '2020-06-09'),
	(8, 1, '2020-06-10'),
	(28, 1, '2020-06-11'),
	(29, 1, '2020-06-12'),
	(30, 1, '2020-06-13'),
	(31, 1, '2020-06-14'),
	(32, 1, '2020-06-15'),
	(63, 2, '2019-10-15'),
	(64, 2, '2019-10-16'),
	(52, 2, '2019-11-07'),
	(53, 2, '2019-11-08'),
	(61, 2, '2019-11-09'),
	(49, 2, '2020-01-11'),
	(50, 2, '2020-01-12'),
	(51, 2, '2020-01-13'),
	(55, 2, '2020-04-13'),
	(56, 2, '2020-04-14'),
	(62, 2, '2020-04-15'),
	(54, 2, '2020-04-16'),
	(33, 2, '2020-04-17'),
	(58, 2, '2020-05-25'),
	(57, 2, '2020-05-26'),
	(60, 2, '2020-05-27'),
	(59, 2, '2020-05-28'),
	(34, 2, '2020-07-01'),
	(35, 2, '2020-07-02'),
	(36, 2, '2020-07-03'),
	(38, 2, '2020-07-04'),
	(39, 2, '2020-07-05'),
	(40, 2, '2020-07-06'),
	(41, 2, '2020-07-07'),
	(42, 2, '2020-07-08'),
	(37, 2, '2020-07-09'),
	(43, 2, '2020-07-10'),
	(44, 2, '2020-07-11'),
	(45, 2, '2020-07-12'),
	(46, 2, '2020-07-13'),
	(47, 2, '2020-07-14'),
	(48, 2, '2020-07-15'),
	(95, 3, '2019-10-23'),
	(96, 3, '2019-10-24'),
	(94, 3, '2019-10-25'),
	(80, 3, '2019-10-26'),
	(81, 3, '2019-10-27'),
	(84, 3, '2019-12-31'),
	(82, 3, '2020-01-01'),
	(91, 3, '2020-01-02'),
	(83, 3, '2020-01-03'),
	(93, 3, '2020-03-01'),
	(86, 3, '2020-03-02'),
	(92, 3, '2020-03-03'),
	(87, 3, '2020-03-04'),
	(88, 3, '2020-03-05'),
	(89, 3, '2020-03-06'),
	(90, 3, '2020-03-07'),
	(85, 3, '2020-03-08'),
	(65, 3, '2020-06-16'),
	(66, 3, '2020-06-17'),
	(67, 3, '2020-06-18'),
	(68, 3, '2020-06-19'),
	(69, 3, '2020-06-20'),
	(70, 3, '2020-06-21'),
	(71, 3, '2020-06-22'),
	(72, 3, '2020-06-23'),
	(73, 3, '2020-06-24'),
	(74, 3, '2020-06-25'),
	(76, 3, '2020-06-26'),
	(75, 3, '2020-06-27'),
	(77, 3, '2020-06-28'),
	(78, 3, '2020-06-29'),
	(79, 3, '2020-06-30'),
	(97, 4, '2019-09-25'),
	(98, 4, '2019-09-26'),
	(99, 4, '2019-10-27'),
	(100, 4, '2019-10-28'),
	(102, 4, '2019-11-13'),
	(101, 4, '2019-11-14'),
	(103, 4, '2019-12-04'),
	(104, 4, '2019-12-05'),
	(105, 4, '2019-12-06'),
	(106, 4, '2019-12-07'),
	(107, 4, '2019-12-08'),
	(124, 4, '2019-12-09'),
	(125, 4, '2019-12-10'),
	(126, 4, '2019-12-24'),
	(127, 4, '2019-12-25'),
	(128, 4, '2019-12-26'),
	(112, 4, '2020-07-16'),
	(109, 4, '2020-07-17'),
	(108, 4, '2020-07-18'),
	(110, 4, '2020-07-19'),
	(111, 4, '2020-07-20'),
	(113, 4, '2020-07-21'),
	(114, 4, '2020-07-22'),
	(115, 4, '2020-07-23'),
	(116, 4, '2020-07-24'),
	(118, 4, '2020-07-25'),
	(117, 4, '2020-07-26'),
	(119, 4, '2020-07-27'),
	(120, 4, '2020-07-28'),
	(121, 4, '2020-07-29'),
	(122, 4, '2020-07-30'),
	(123, 4, '2020-07-31'),
	(135, 5, '2019-12-10'),
	(136, 5, '2019-12-11'),
	(137, 5, '2019-12-12'),
	(138, 5, '2019-12-13'),
	(139, 5, '2019-12-14'),
	(156, 5, '2020-02-19'),
	(158, 5, '2020-02-20'),
	(157, 5, '2020-02-21'),
	(159, 5, '2020-02-22'),
	(160, 5, '2020-02-23'),
	(129, 5, '2020-06-05'),
	(130, 5, '2020-06-06'),
	(131, 5, '2020-06-07'),
	(132, 5, '2020-06-08'),
	(133, 5, '2020-06-09'),
	(134, 5, '2020-06-10'),
	(155, 5, '2020-06-11'),
	(140, 5, '2020-08-01'),
	(142, 5, '2020-08-02'),
	(143, 5, '2020-08-03'),
	(144, 5, '2020-08-04'),
	(148, 5, '2020-08-05'),
	(145, 5, '2020-08-06'),
	(146, 5, '2020-08-07'),
	(147, 5, '2020-08-08'),
	(149, 5, '2020-08-09'),
	(150, 5, '2020-08-10'),
	(151, 5, '2020-08-11'),
	(152, 5, '2020-08-12'),
	(141, 5, '2020-08-13'),
	(153, 5, '2020-08-14'),
	(154, 5, '2020-08-15'),
	(163, 6, '2019-09-01'),
	(164, 6, '2019-09-02'),
	(189, 6, '2019-09-03'),
	(191, 6, '2019-09-04'),
	(190, 6, '2019-09-05'),
	(161, 6, '2019-09-06'),
	(192, 6, '2019-09-07'),
	(166, 6, '2019-11-10'),
	(162, 6, '2019-11-11'),
	(165, 6, '2019-11-12'),
	(167, 6, '2019-12-11'),
	(168, 6, '2019-12-12'),
	(188, 6, '2020-04-19'),
	(187, 6, '2020-04-20'),
	(185, 6, '2020-04-21'),
	(186, 6, '2020-04-22'),
	(169, 6, '2020-06-15'),
	(170, 6, '2020-06-16'),
	(171, 6, '2020-06-17'),
	(172, 6, '2020-06-18'),
	(173, 6, '2020-06-19'),
	(174, 6, '2020-06-20'),
	(175, 6, '2020-06-21'),
	(176, 6, '2020-06-22'),
	(177, 6, '2020-06-23'),
	(178, 6, '2020-06-24'),
	(179, 6, '2020-06-25'),
	(180, 6, '2020-06-26'),
	(181, 6, '2020-06-27'),
	(182, 6, '2020-06-28'),
	(183, 6, '2020-06-29'),
	(184, 6, '2020-06-30'),
	(219, 7, '2019-09-27'),
	(220, 7, '2019-09-28'),
	(193, 7, '2019-09-29'),
	(194, 7, '2019-09-30'),
	(199, 7, '2020-01-12'),
	(200, 7, '2020-01-13'),
	(198, 7, '2020-01-14'),
	(197, 7, '2020-01-15'),
	(195, 7, '2020-03-28'),
	(196, 7, '2020-03-29'),
	(223, 7, '2020-05-08'),
	(216, 7, '2020-05-09'),
	(222, 7, '2020-05-10'),
	(218, 7, '2020-05-11'),
	(217, 7, '2020-05-12'),
	(221, 7, '2020-05-13'),
	(224, 7, '2020-05-14'),
	(201, 7, '2020-07-01'),
	(202, 7, '2020-07-02'),
	(203, 7, '2020-07-03'),
	(204, 7, '2020-07-04'),
	(205, 7, '2020-07-05'),
	(206, 7, '2020-07-06'),
	(207, 7, '2020-07-07'),
	(208, 7, '2020-07-08'),
	(209, 7, '2020-07-09'),
	(210, 7, '2020-07-10'),
	(211, 7, '2020-07-11'),
	(212, 7, '2020-07-12'),
	(213, 7, '2020-07-13'),
	(214, 7, '2020-07-14'),
	(215, 7, '2020-07-15'),
	(226, 8, '2019-09-24'),
	(227, 8, '2019-09-25'),
	(228, 8, '2019-10-09'),
	(229, 8, '2019-10-10'),
	(230, 8, '2019-11-22'),
	(225, 8, '2019-11-23'),
	(232, 8, '2019-11-24'),
	(231, 8, '2020-02-18'),
	(256, 8, '2020-02-19'),
	(255, 8, '2020-02-20'),
	(248, 8, '2020-05-13'),
	(249, 8, '2020-05-14'),
	(250, 8, '2020-05-15'),
	(251, 8, '2020-05-16'),
	(252, 8, '2020-06-01'),
	(253, 8, '2020-06-02'),
	(254, 8, '2020-06-03'),
	(233, 8, '2020-08-01'),
	(234, 8, '2020-08-02'),
	(235, 8, '2020-08-03'),
	(236, 8, '2020-08-04'),
	(237, 8, '2020-08-05'),
	(238, 8, '2020-08-06'),
	(239, 8, '2020-08-07'),
	(240, 8, '2020-08-08'),
	(241, 8, '2020-08-09'),
	(242, 8, '2020-08-10'),
	(243, 8, '2020-08-11'),
	(244, 8, '2020-08-12'),
	(245, 8, '2020-08-13'),
	(246, 8, '2020-08-14'),
	(247, 8, '2020-08-15'),
	(258, 9, '2019-09-20'),
	(257, 9, '2019-09-21'),
	(259, 9, '2019-10-05'),
	(260, 9, '2019-10-06'),
	(261, 9, '2019-11-04'),
	(262, 9, '2019-11-05'),
	(263, 9, '2019-11-06'),
	(266, 9, '2020-01-28'),
	(265, 9, '2020-01-29'),
	(264, 9, '2020-01-30'),
	(267, 9, '2020-01-31'),
	(268, 9, '2020-02-01'),
	(271, 9, '2020-04-02'),
	(270, 9, '2020-04-03'),
	(272, 9, '2020-04-04'),
	(269, 9, '2020-04-05'),
	(273, 9, '2020-08-16'),
	(274, 9, '2020-08-17'),
	(275, 9, '2020-08-18'),
	(276, 9, '2020-08-19'),
	(277, 9, '2020-08-20'),
	(278, 9, '2020-08-21'),
	(279, 9, '2020-08-22'),
	(280, 9, '2020-08-23'),
	(281, 9, '2020-08-24'),
	(282, 9, '2020-08-25'),
	(283, 9, '2020-08-26'),
	(284, 9, '2020-08-27'),
	(285, 9, '2020-08-28'),
	(286, 9, '2020-08-29'),
	(287, 9, '2020-08-30'),
	(288, 9, '2020-08-31'),
	(290, 10, '2019-09-03'),
	(289, 10, '2019-09-04'),
	(296, 10, '2019-12-01'),
	(295, 10, '2019-12-02'),
	(294, 10, '2019-12-03'),
	(297, 10, '2020-01-14'),
	(298, 10, '2020-01-15'),
	(300, 10, '2020-03-16'),
	(301, 10, '2020-03-17'),
	(302, 10, '2020-03-18'),
	(303, 10, '2020-05-09'),
	(304, 10, '2020-05-10'),
	(299, 10, '2020-05-11'),
	(293, 10, '2020-06-12'),
	(292, 10, '2020-06-13'),
	(291, 10, '2020-06-14'),
	(305, 10, '2020-07-16'),
	(306, 10, '2020-07-17'),
	(307, 10, '2020-07-18'),
	(308, 10, '2020-07-19'),
	(309, 10, '2020-07-20'),
	(310, 10, '2020-07-21'),
	(311, 10, '2020-07-22'),
	(312, 10, '2020-07-23'),
	(313, 10, '2020-07-24'),
	(314, 10, '2020-07-25'),
	(315, 10, '2020-07-26'),
	(316, 10, '2020-07-27'),
	(317, 10, '2020-07-28'),
	(318, 10, '2020-07-29'),
	(319, 10, '2020-07-30'),
	(320, 10, '2020-07-31'),
	(323, 11, '2019-10-13'),
	(324, 11, '2019-10-14'),
	(325, 11, '2019-10-15'),
	(326, 11, '2019-12-28'),
	(328, 11, '2019-12-29'),
	(327, 11, '2019-12-30'),
	(329, 11, '2019-12-31'),
	(321, 11, '2020-02-27'),
	(322, 11, '2020-02-28'),
	(331, 11, '2020-02-29'),
	(337, 11, '2020-05-26'),
	(335, 11, '2020-05-27'),
	(334, 11, '2020-05-28'),
	(333, 11, '2020-05-29'),
	(332, 11, '2020-05-30'),
	(330, 11, '2020-05-31'),
	(336, 11, '2020-08-16'),
	(338, 11, '2020-08-17'),
	(339, 11, '2020-08-18'),
	(340, 11, '2020-08-19'),
	(341, 11, '2020-08-20'),
	(342, 11, '2020-08-21'),
	(343, 11, '2020-08-22'),
	(344, 11, '2020-08-23'),
	(345, 11, '2020-08-24'),
	(346, 11, '2020-08-25'),
	(347, 11, '2020-08-26'),
	(348, 11, '2020-08-27'),
	(349, 11, '2020-08-28'),
	(350, 11, '2020-08-29'),
	(351, 11, '2020-08-30'),
	(352, 11, '2020-08-31');
/*!40000 ALTER TABLE `ferie` ENABLE KEYS */;

-- Dump della struttura di tabella turni_infermieri.infermiere
CREATE TABLE IF NOT EXISTS `infermiere` (
  `id_infermiere` int(11) NOT NULL AUTO_INCREMENT,
  `nome` varchar(50) COLLATE utf8_bin NOT NULL,
  `cognome` varchar(50) COLLATE utf8_bin NOT NULL,
  `data_nascita` date NOT NULL,
  PRIMARY KEY (`id_infermiere`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='anagrafica degli infermieri';

-- Dump dei dati della tabella turni_infermieri.infermiere: ~11 rows (circa)
DELETE FROM `infermiere`;
/*!40000 ALTER TABLE `infermiere` DISABLE KEYS */;
INSERT INTO `infermiere` (`id_infermiere`, `nome`, `cognome`, `data_nascita`) VALUES
	(1, 'Mario', 'Rossi', '1990-07-24'),
	(2, 'Martina', 'Saro', '1975-02-19'),
	(3, 'Giovanni', 'Allegro', '1982-11-05'),
	(4, 'Luca', 'Marrone', '1992-11-25'),
	(5, 'Paola', 'Montalba', '1994-02-04'),
	(6, 'Cristina', 'Pace', '1989-03-06'),
	(7, 'Sebastiano', 'Salienti', '1995-12-12'),
	(8, 'Laura', 'Bartoli', '1983-01-30'),
	(9, 'Benedetta', 'Sacco', '1971-05-15'),
	(10, 'Daniele', 'Giacorra', '1966-08-20'),
	(11, 'Stefania', 'Allecco', '1988-10-01');
/*!40000 ALTER TABLE `infermiere` ENABLE KEYS */;

-- Dump della struttura di tabella turni_infermieri.vincoli
CREATE TABLE IF NOT EXISTS `vincoli` (
  `id_vincolo` int(11) NOT NULL AUTO_INCREMENT,
  `nome` varchar(50) COLLATE utf8_bin NOT NULL,
  `valore` int(11) NOT NULL,
  `unita` varchar(50) COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`id_vincolo`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='insieme di tutti i vincoli necessari per verificare che l''orario generato sia accettabile';

-- Dump dei dati della tabella turni_infermieri.vincoli: ~11 rows (circa)
DELETE FROM `vincoli`;
/*!40000 ALTER TABLE `vincoli` DISABLE KEYS */;
INSERT INTO `vincoli` (`id_vincolo`, `nome`, `valore`, `unita`) VALUES
	(1, 'ferie_annue', 32, 'giorni'),
	(2, 'ore_lavorative_settimanali_contrattuali', 36, 'ore'),
	(3, 'max_ore_lavorative_settimanali', 48, 'ore'),
	(4, 'max_giorni_lavorativi_settimanali', 6, 'giorni'),
	(5, 'min_ore_riposo_consecutive', 11, 'ore'),
	(6, 'min_giorni_riposo_settimanali', 1, 'giorni'),
	(7, 'debito_orario_teorico_annuale', 1872, 'ore'),
	(8, 'durata_turno_lavorativo', 8, 'ore'),
	(9, 'numero_infermieri_turno_mattino', 3, 'infermieri'),
	(10, 'numero_infermieri_turno_pomerggio', 2, 'infermieri'),
	(11, 'numero_infermieri_turno_notte', 1, 'infermieri');
/*!40000 ALTER TABLE `vincoli` ENABLE KEYS */;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
